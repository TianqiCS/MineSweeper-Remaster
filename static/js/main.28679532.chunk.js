(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,s){t.exports=s(19)},15:function(t,e,s){},17:function(t,e,s){},19:function(t,e,s){"use strict";s.r(e);var a=s(0),i=s.n(a),n=s(8),l=s.n(n),r=(s(15),s(9)),o=s(1),c=s(2),h=s(3),u=s(6),m=s(4),p=s(5),f=(s(17),function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(h.a)(e,[{key:"render",value:function(){return i.a.createElement("button",{className:"square",disabled:this.props.isOpen&&null===this.props.value,name:this.props.value,onMouseUp:this.props.onClick},this.props.value)}}]),e}(i.a.Component)),d=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(h.a)(e,[{key:"renderSquare",value:function(t){var e=this;return i.a.createElement(f,{isOpen:this.props.isOpen[t],value:this.props.squares[t],onClick:function(s){return e.props.onClick(t,s)}})}},{key:"renderRow",value:function(t){for(var e=[],s=0;s<this.props.settings.cols;s++)e.push(this.renderSquare(s+this.props.settings.cols*t));return e}},{key:"render",value:function(){for(var t=[],e=0;e<this.props.settings.rows;e++)t.push(i.a.createElement("div",{className:"board-row"},this.renderRow(e)));return i.a.createElement("div",null,t)}}]),e}(i.a.Component),v=function(t){function e(t){var s;return Object(c.a)(this,e),(s=Object(u.a)(this,Object(m.a)(e).call(this,t))).state={squares:Array(s.props.cols*s.props.rows).fill(null),isMine:Array(s.props.rows*s.props.cols).fill(0),isOpen:Array(s.props.rows*s.props.cols).fill(0),isFlag:Array(s.props.rows*s.props.cols).fill(0),GameOver:-1,rows:s.props.rows,cols:s.props.cols,mines:s.props.mines,remain:s.props.mines},s}return Object(p.a)(e,t),Object(h.a)(e,[{key:"handleClick",value:function(t,e){-1===this.state.GameOver?this.initialize(t):this.state.GameOver||1!==e.nativeEvent.which?this.state.GameOver||3!==e.nativeEvent.which?this.state.GameOver||2!==e.nativeEvent.which||this.try(t):this.flag(t):this.open(t)}},{key:"componentDidMount",value:function(){var t=this;setInterval(function(){t.setState({now:new Date})},1e3)}},{key:"render",value:function(){var t=this,s=this.state.squares.slice();if(1===this.state.GameOver)for(var a=0;a<this.state.cols*this.state.rows;a++)this.state.isMine[a]?this.state.isFlag[a]||(s[a]="@"):this.state.isFlag[a]&&(s[a]="X");if(2===this.state.GameOver)for(var n=0;n<this.state.cols*this.state.rows;n++)this.state.isMine[n]&&(s[n]="P");return i.a.createElement("div",{className:"game"},i.a.createElement("div",{className:"game-board"},i.a.createElement(d,{squares:s,isOpen:this.state.isOpen,isFlag:this.state.isFlag,isMine:this.state.isMine.slice().fill(0),settings:{rows:this.state.rows,cols:this.state.cols},onClick:function(e,s){return t.handleClick(e,s)}})),i.a.createElement("div",{className:"game-info"},i.a.createElement("div",null,this.getStatus()),i.a.createElement("div",null,"Mine Remains: "+this.state.remain),i.a.createElement("div",null,"Time: "+this.state.now),i.a.createElement("div",null,i.a.createElement("li",null,"Left Click to select"),i.a.createElement("li",null,"Right Click to flag"),i.a.createElement("li",null,"Middle Button to auto select"),i.a.createElement("li",null,"Reload the page to restart")),i.a.createElement("button",{onClick:e.restart},"Restart")))}},{key:"check",value:function(){return this.state.mines>=this.state.rows*this.state.cols}},{key:"getStatus",value:function(){switch(this.state.GameOver){case-1:return"Ready to Begin";case 0:return"In Game";case 1:return"You Lost";case 2:return"You win";default:return"UNKNOWN"}}},{key:"initialize",value:function(t){for(var e=this,s=this.state.rows*this.state.cols,a=this.state.isMine.slice(),i=0;i<this.state.mines;i++){var n=Math.floor(Math.random()*s);n===t||1===a[n]?i--:a[n]=1}var l=Array(this.state.cols*this.state.rows).fill(0);this.setState({isMine:a,isOpen:l,GameOver:0},function(){e.open(t)})}},{key:"open",value:function(t){if(!this.state.isOpen[t]&&!this.state.isFlag[t])if(this.state.isMine[t])this.gameover(1);else{this.calculate(t);for(var e=0,s=0;s<this.state.cols*this.state.rows;s++)this.state.isOpen[s]&&e++;e===this.state.cols*this.state.rows-this.state.mines&&this.gameover(2)}}},{key:"gameover",value:function(t){this.setState({GameOver:t})}},{key:"calculate",value:function(t){if(this.state.isOpen[t]||this.state.isFlag[t])return 0;var e=!1,s=!1,a=!1,i=!1,n=0;if(this.state.isMine[t])return 1;var l=this.state.squares,r=this.state.isOpen;return t%this.state.cols&&(this.state.isMine[t-1]&&(n+=1),a=!0),t%this.state.cols!==this.state.cols-1&&(this.state.isMine[t+1]&&(n+=1),i=!0),t-this.state.cols>=0&&(this.state.isMine[t-this.state.cols]&&(n+=1),e=!0),t+this.state.cols<this.state.cols*this.state.rows&&(this.state.isMine[t+this.state.cols]&&(n+=1),s=!0),e&&a&&this.state.isMine[t-1-this.state.cols]&&(n+=1),e&&i&&this.state.isMine[t+1-this.state.cols]&&(n+=1),s&&a&&this.state.isMine[t-1+this.state.cols]&&(n+=1),s&&i&&this.state.isMine[t+1+this.state.cols]&&(n+=1),n&&(l[t]=n),r[t]=!0,this.setState({isOpen:r,squares:l}),n||(a&&this.calculate(t-1),i&&this.calculate(t+1),e&&this.calculate(t-this.state.cols),s&&this.calculate(t+this.state.cols),e&&a&&this.calculate(t-1-this.state.cols),e&&i&&this.calculate(t+1-this.state.cols),s&&a&&this.calculate(t-1+this.state.cols),s&&i&&this.calculate(t+1+this.state.cols),0)}},{key:"try",value:function(t){var e=this.state.squares.slice();if(this.state.isOpen[t]){var s=!1,a=!1,i=!1,n=!1,l=0;t%this.state.cols&&(this.state.isFlag[t-1]&&(l+=1),i=!0),t%this.state.cols!==this.state.cols-1&&(this.state.isFlag[t+1]&&(l+=1),n=!0),t-this.state.cols>=0&&(this.state.isFlag[t-this.state.cols]&&(l+=1),s=!0),t+this.state.cols<this.state.cols*this.state.rows&&(this.state.isFlag[t+this.state.cols]&&(l+=1),a=!0),s&&i&&this.state.isFlag[t-1-this.state.cols]&&(l+=1),s&&n&&this.state.isFlag[t+1-this.state.cols]&&(l+=1),a&&i&&this.state.isFlag[t-1+this.state.cols]&&(l+=1),a&&n&&this.state.isFlag[t+1+this.state.cols]&&(l+=1),l===e[t]&&(i&&this.open(t-1),n&&this.open(t+1),s&&this.open(t-this.state.cols),a&&this.open(t+this.state.cols),i&&s&&this.open(t-1-this.state.cols),n&&s&&this.open(t+1-this.state.cols),i&&a&&this.open(t-1+this.state.cols),n&&a&&this.open(t+1+this.state.cols))}}},{key:"flag",value:function(t){var e,s=this.state.squares.slice(),a=this.state.isFlag.slice();this.state.isOpen[t]||(a[t]=!a[t],a[t]?(s[t]="P",e=1):(s[t]=null,e=-1),this.setState({isFlag:a,squares:s,remain:this.state.remain-e}))}}],[{key:"restart",value:function(){window.location.reload()}}]),e}(i.a.Component),g=function(t){function e(t){var s;return Object(c.a)(this,e),(s=Object(u.a)(this,Object(m.a)(e).call(this,t))).state={difficulty:1,cols:null,rows:null,mines:null,start:!1},s.handleChange=s.handleChange.bind(Object(o.a)(Object(o.a)(s))),s.handleSubmit=s.handleSubmit.bind(Object(o.a)(Object(o.a)(s))),s}return Object(p.a)(e,t),Object(h.a)(e,[{key:"handleChange",value:function(t){this.setState(Object(r.a)({},t.target.name,parseInt(t.target.value)))}},{key:"handleSubmit",value:function(t){var e,s,a,i;switch(this.state.difficulty){case 1:e=9,s=9,a=10,i=!0;break;case 2:e=16,s=16,a=40,i=!0;break;case 3:e=30,s=16,a=99,i=!0;break;case 4:this.state.rows&&this.state.cols&&this.state.mines&&(i=!0,e=this.state.rows,s=this.state.cols,a=this.state.mines)}i&&this.setState({cols:e,rows:s,mines:a,start:i}),t.preventDefault()}},{key:"render",value:function(){return this.state.start?i.a.createElement("div",null,i.a.createElement(v,{cols:this.state.cols,rows:this.state.rows,mines:this.state.mines,difficulty:this.state.difficulty})):i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",null,"Difficulty:",i.a.createElement("input",{type:"radio",name:"difficulty",value:"1",checked:1===this.state.difficulty,onChange:this.handleChange}),"Easy",i.a.createElement("input",{type:"radio",name:"difficulty",value:"2",checked:2===this.state.difficulty,onChange:this.handleChange}),"Normal",i.a.createElement("input",{type:"radio",name:"difficulty",value:"3",checked:3===this.state.difficulty,onChange:this.handleChange}),"Hard",i.a.createElement("input",{type:"radio",name:"difficulty",value:"4",checked:4===this.state.difficulty,onChange:this.handleChange}),"Custom"),i.a.createElement("br",null),i.a.createElement("div",null,"Cols (between 3 and 50): ",i.a.createElement("input",{type:"number",name:"cols",value:this.state.cols,min:"3",max:"50",onChange:this.handleChange,disabled:4!==this.state.difficulty}),i.a.createElement("br",null),"Rows (between 3 and 50): ",i.a.createElement("input",{type:"number",name:"rows",value:this.state.rows,min:"3",max:"50",onChange:this.handleChange,disabled:4!==this.state.difficulty}),i.a.createElement("br",null),"Quantity (between 1 and the size): ",i.a.createElement("input",{type:"number",name:"mines",value:this.state.mines,onChange:this.handleChange,min:"1",max:this.state.cols*this.state.rows-1,disabled:4!==this.state.difficulty})),i.a.createElement("br",null),i.a.createElement("input",{type:"submit",value:"Start Game"}))}}]),e}(i.a.Component);document.addEventListener("contextmenu",function(t){return t.preventDefault()});var w=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.28679532.chunk.js.map