(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,s,e){},15:function(t,s,e){t.exports=e.p+"static/media/logo.5d5d9eef.svg"},16:function(t,s,e){},18:function(t,s,e){"use strict";e.r(s);var i=e(0),a=e.n(i),n=e(7),l=e.n(n),r=(e(13),e(1)),o=e(2),h=e(4),c=e(3),u=e(5),v=(e(15),e(16),function(t){function s(t){return Object(r.a)(this,s),Object(h.a)(this,Object(c.a)(s).call(this,t))}return Object(u.a)(s,t),Object(o.a)(s,[{key:"render",value:function(){return a.a.createElement("button",{className:"square",disabled:this.props.isOpen&&null===this.props.value,name:this.props.value,onMouseUp:this.props.onClick},this.props.value)}}]),s}(a.a.Component)),p=function(t){function s(){return Object(r.a)(this,s),Object(h.a)(this,Object(c.a)(s).apply(this,arguments))}return Object(u.a)(s,t),Object(o.a)(s,[{key:"renderSquare",value:function(t){var s=this;return a.a.createElement(v,{isFlag:this.props.isFlag[t],isMine:this.props.isMine[t],isOpen:this.props.isOpen[t],value:this.props.squares[t],onClick:function(e){return s.props.onClick(t,e)},key:t})}},{key:"renderRow",value:function(t){for(var s=[],e=0;e<this.props.settings.cols;e++)s.push(this.renderSquare(e+this.props.settings.cols*t));return s}},{key:"render",value:function(){for(var t=[],s=0;s<this.props.settings.rows;s++)t.push(a.a.createElement("div",{className:"board-row"},this.renderRow(s)));return a.a.createElement("div",null,t)}}]),s}(a.a.Component),m=function(t){function s(t){var e;return Object(r.a)(this,s),(e=Object(h.a)(this,Object(c.a)(s).call(this,t))).state={history:[{squares:Array(1500).fill(null)}],isMine:Array(1500).fill(0),isOpen:Array(1500).fill(0),isFlag:Array(1500).fill(0),xIsNext:!0,GameOver:-1,rows:30,cols:50,mines:300,remain:300},e}return Object(u.a)(s,t),Object(o.a)(s,[{key:"handleClick",value:function(t,s){var e=this.state.history;e[e.length-1];-1===this.state.GameOver?(this.initilize(t),this.open(t)):this.state.GameOver||1!==s.nativeEvent.which?this.state.GameOver||3!==s.nativeEvent.which?this.state.GameOver||2!==s.nativeEvent.which||this.try(t):this.flag(t):this.open(t)}},{key:"try",value:function(t){var s=this.state.history,e=s[s.length-1].squares.slice();if(this.state.isOpen[t]){var i=!1,a=!1,n=!1,l=!1,r=0;t%this.state.cols&&(this.state.isFlag[t-1]&&(r+=1),n=!0),t%this.state.cols!==this.state.cols-1&&(this.state.isFlag[t+1]&&(r+=1),l=!0),t-this.state.cols>=0&&(this.state.isFlag[t-this.state.cols]&&(r+=1),i=!0),t+this.state.cols<this.state.cols*this.state.rows&&(this.state.isFlag[t+this.state.cols]&&(r+=1),a=!0),i&&n&&this.state.isFlag[t-1-this.state.cols]&&(r+=1),i&&l&&this.state.isFlag[t+1-this.state.cols]&&(r+=1),a&&n&&this.state.isFlag[t-1+this.state.cols]&&(r+=1),a&&l&&this.state.isFlag[t+1+this.state.cols]&&(r+=1),r===e[t]&&(n&&this.open(t-1),l&&this.open(t+1),i&&this.open(t-this.state.cols),a&&this.open(t+this.state.cols),n&&i&&this.open(t-1-this.state.cols),l&&i&&this.open(t+1-this.state.cols),n&&a&&this.open(t-1+this.state.cols),l&&a&&this.open(t+1+this.state.cols))}}},{key:"flag",value:function(t){var s,e=this.state.history,i=e[e.length-1].squares.slice(),a=this.state.isFlag.slice();this.state.isOpen[t]||(a[t]=!a[t],a[t]?(i[t]="P",s=1):(i[t]=null,s=-1),this.setState({isFlag:a,history:[{squares:i}],remain:this.state.remain-s}))}},{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval(function(){t.setState({now:new Date})},1e3)}},{key:"render",value:function(){var t=this,s=this.state.history,e=s[s.length-1];if(1===this.state.GameOver)for(var i=0;i<this.state.cols*this.state.rows;i++)this.state.isMine[i]?this.state.isFlag[i]||(e.squares[i]="@"):this.state.isFlag[i]&&(e.squares[i]="X");if(2===this.state.GameOver)for(var n=0;n<this.state.cols*this.state.rows;n++)this.state.isMine[n]&&(e.squares[n]="P");return a.a.createElement("div",{className:"game"},a.a.createElement("div",{className:"game-board"},a.a.createElement(p,{squares:e.squares,isOpen:this.state.isOpen,isFlag:this.state.isFlag,isMine:this.state.isMine.slice().fill(0),settings:{rows:this.state.rows,cols:this.state.cols},onClick:function(s,e){return t.handleClick(s,e)}})),a.a.createElement("div",{className:"game-info"},a.a.createElement("div",null,this.getStatus()),a.a.createElement("div",null,"Mine Remains: "+this.state.remain),a.a.createElement("div",null,"Time: "+this.state.now),a.a.createElement("div",null,a.a.createElement("li",null,"Left Click to select"),a.a.createElement("li",null,"Right Click to flag"),a.a.createElement("li",null,"Middle Button to auto select"))))}},{key:"check",value:function(){return this.state.mines>=this.state.rows*this.state.cols}},{key:"getStatus",value:function(){switch(this.state.GameOver){case-1:return"Ready to Begin";case 0:return"In Game";case 1:return"You Lost";case 2:return"You win";default:return"UNKNOWN"}}},{key:"initilize",value:function(t){for(var s=this.state.rows*this.state.cols,e=0;e<this.state.mines;e++){var i=Math.floor(Math.random()*s);i===t||1===this.state.isMine[i]?e--:this.state.isMine[i]=1}var a=Array(this.state.cols*this.state.rows).fill(0);this.setState({isOpen:a,GameOver:0})}},{key:"open",value:function(t){if(!this.state.isOpen[t]&&!this.state.isFlag[t])if(this.state.isMine[t])this.gameover(1);else{this.calculate(t);for(var s=0,e=0;e<this.state.cols*this.state.rows;e++)this.state.isOpen[e]&&s++;s===this.state.cols*this.state.rows-this.state.mines&&this.gameover(2)}}},{key:"gameover",value:function(t){this.setState({GameOver:t})}},{key:"calculate",value:function(t){if(this.state.isOpen[t]||this.state.isFlag[t])return 0;var s=!1,e=!1,i=!1,a=!1,n=0;if(this.state.isMine[t])return 1;var l=this.state.history,r=l[l.length-1].squares,o=this.state.isOpen;return t%this.state.cols&&(this.state.isMine[t-1]&&(n+=1),i=!0),t%this.state.cols!==this.state.cols-1&&(this.state.isMine[t+1]&&(n+=1),a=!0),t-this.state.cols>=0&&(this.state.isMine[t-this.state.cols]&&(n+=1),s=!0),t+this.state.cols<this.state.cols*this.state.rows&&(this.state.isMine[t+this.state.cols]&&(n+=1),e=!0),s&&i&&this.state.isMine[t-1-this.state.cols]&&(n+=1),s&&a&&this.state.isMine[t+1-this.state.cols]&&(n+=1),e&&i&&this.state.isMine[t-1+this.state.cols]&&(n+=1),e&&a&&this.state.isMine[t+1+this.state.cols]&&(n+=1),n&&(r[t]=n),o[t]=!0,this.setState({isOpen:o,history:l.concat([{squares:r}])}),n||(i&&this.calculate(t-1),a&&this.calculate(t+1),s&&this.calculate(t-this.state.cols),e&&this.calculate(t+this.state.cols),s&&i&&this.calculate(t-1-this.state.cols),s&&a&&this.calculate(t+1-this.state.cols),e&&i&&this.calculate(t-1+this.state.cols),e&&a&&this.calculate(t+1+this.state.cols),0)}}]),s}(a.a.Component);document.addEventListener("contextmenu",function(t){return t.preventDefault()});var f=m;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,s,e){t.exports=e(18)}},[[8,2,1]]]);
//# sourceMappingURL=main.6c4420ca.chunk.js.map